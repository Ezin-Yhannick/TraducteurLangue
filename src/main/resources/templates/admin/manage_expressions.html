<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BenLangue Tableau de board</title>
    <link rel="stylesheet" href="/css/admin_dashbord.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
    </head>
<body>

    <div id="preloader" class="preloader">
        <div class="preloader-spinner"></div>
    </div>
    

    <header class="header">
        <div class="header-left">
            <i class="ri-translate-2" style="font-size: 26px; color: #2e7d32;"></i>
            <div>
                <h1 class="app-title">BenLangue</h1>
                <h2 class="dashboard-title">Tableau de Bord Administrateur</h2>
            </div>
        </div>

        <div class="header-right">
            <i class="ri-notification-3-line"></i>
            <i class="ri-settings-3-line"></i>
            <a class="logout-btn" href="/admin/logout">Déconnexion</a>
        </div>
    </header>
    <nav class="navbar">
        <a href="/admin/tableau_de_bord">Vue d'ensemble</a>
        <a href="/admin/gestion_utilisateurs">Gestion des Utilisateurs</a>
        <a href="/admin/manage_expressions">Traductions</a>
        <a class="active" href="/admin/manage_expressions">Expressions</a>
        <a href="/admin/manage_languages">Langues</a>
        <a href="/admin/gestion_paramètres">Paramètres</a>
    </nav>

    <main class="main-content">
        
        <div class="page-header">
            <div>
                <h2 class="page-title">Expressions</h2>
                <p class="page-subtitle">
                    Gérez les expressions de base utilisées par l'application
                </p>
            </div>
            <button class="btn btn-primary" id="btn-open-expression-modal">
                <i class="ri-add-line"></i> Ajouter une expression
            </button>
        </div>
        
        <section class="card">
            <div class="card-header">
                <h3>Liste des expressions</h3>
                <div class="card-actions">
                    <input type="text" class="input-search" placeholder="Rechercher une expression...">
                </div>
            </div>
            
            <div class="card-body">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Contexte</th>
                            <th>Type</th>
                            <th>Nb de traductions</th>
                            <th style="text-align: right;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Bonjour</td>
                            <td><span class="badge badge-green">Phrase</span></td>
                            <td>5</td>
                            <td class="table-actions">
                                <button class="btn btn-ghost btn-sm">
                                    <i class="ri-edit-line"></i> Modifier
                                </button>
                                <button class="btn btn-ghost btn-sm btn-danger-text">
                                    <i class="ri ri-delete-bin-line"></i> Supprimer
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Merci</td>
                            <td><span class="badge badge-green">Phrase</span></td>
                            <td>2</td>
                            <td class="table-actions">
                                <button class="btn btn-ghost btn-sm">
                                    <i class="ri-edit-line"></i> Modifier
                                </button>
                                <button class="btn btn-ghost btn-sm btn-danger-text">
                                    <i class="ri ri-delete-bin-line"></i> Supprimer
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>
    
    <div class="modal" id="expressions-modal">
        <div class="modal-backdrop" id="expression-modal-backdrop"></div> 
        <div class="modal-dialog">
            <div class="modal-header">
                <h3 id="expression-modal-title">Ajouter une expression</h3>
                <button class="modal-close" id="expression-modal-close">
                    <i class="ri-close-line"></i>
                </button>
            </div>

            <form class="modal-body" id="expression-form">
                <div class="form-group">
                    <label for="expression-contexte">Contexte / texte de l’expression</label>
                    <input type="text" id="expression-contexte" name="contexte" required placeholder="Ex : Bonjour">
                </div>

                <div class="form-group">
                    <label for="expression-type">Type</label>
                    <select id="expression-type" name="isPhrase">
                        <option value="true">Phrase</option>
                        <option value="false">Mot / Expression courte</option>
                    </select>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-ghost" id="expression-cancel">
                        Annuler
                    </button>
                    <button type="submit" class="btn btn-primary">
                        Enregistrer
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
         //logique preloader
    const preloader = document.getElementById('preloader');

window.addEventListener('load', () => {
    // Ajoute la classe qui déclenche la transition CSS (opacity: 0; visibility: hidden;)
    if (preloader) {
        preloader.classList.add('preloader-hidden');

        // Facultatif : Supprime l'élément du DOM après la transition
        // pour libérer des ressources (environ 1 seconde après)
        setTimeout(() => {
            preloader.remove();
        }, 1000); 
    }
});

        // Mini JS juste pour ouvrir / fermer le modal
    const openBtn = document.getElementById('btn-open-expression-modal');
    const modal = document.getElementById('expressions-modal'); // Correction de l'ID du modal
    const closeBtn = document.getElementById('expression-modal-close');
    const cancelBtn = document.getElementById('expression-cancel');
    const backdrop = document.getElementById('expression-modal-backdrop');

    function openModal() {
        modal.classList.add('modal-open');
    }

    function closeModal() {
        modal.classList.remove('modal-open');
    }

    openBtn.addEventListener('click', openModal);
    closeBtn.addEventListener('click', closeModal);
    cancelBtn.addEventListener('click', closeModal);
    backdrop.addEventListener('click', closeModal);

    // PLUS TARD : ici on fera le fetch() vers /api/admin/expressions pour créer / lister
    </script>
    
</body>
</html>